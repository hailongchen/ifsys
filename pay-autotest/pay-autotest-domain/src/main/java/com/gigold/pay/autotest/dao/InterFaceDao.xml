<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gigold.pay.autotest.dao.InterFaceDao">

	<resultMap type="com.gigold.pay.autotest.bo.InterFaceInfo" id="ifResultMap">
		<id property="id" column="ID" />
		<result property="ifName" column="IF_NAME" />
		<result property="ifDesc" column="IF_DESC" />
		<result property="uid" column="IF_CREATEBY" />
		<result property="ifCreateTime" column="IF_CREATETIME" />
		<result property="ifSysId" column="IF_SYS_ID" />
		<result property="sysName" column="SYS_NAME" />
		<result property="ifProId" column="IF_PRO_ID" />
		<result property="proName" column="PRO_NAME" />
		<result property="ifStatus" column="IF_STATUS" />
		<result property="ifUrl" column="IF_URL" />
		<result property="addressUrl" column="ADDRESS_URL" />
		<result property="ifType" column="IF_TYPE" />
		<result property="ifProtocol" column="IF_PROTOCOL" />
		<result property="isValid" column="ISVALID" />
		<result property="method" column="IF_METHOD" />
		<result property="methodVersion" column="IF_DUBBO_VERSION" />
	</resultMap>

   <!-- 根据ID查询接口信息 -->
	<select id="getInterFaceById" parameterType="com.gigold.pay.autotest.bo.InterFaceInfo"
		resultMap="ifResultMap">
        <![CDATA[  
       select ii.ID,
		ii.IF_NAME,
		ii.IF_DESC,
		ii.IF_URL,
		(select sys.IF_SYS_NAME from T_IF_SYSTEM sys where sys.id=ii.IF_SYS_ID)
		SYS_NAME,
		(select pro.IF_PRO_NAME from T_IF_PRO pro where pro.id=ii.IF_PRO_ID and
		pro.IF_SYS_ID=ii.IF_SYS_ID) PRO_NAME,
		(select sys.ADDRESS_URL from T_IF_SYSTEM sys where sys.id=ii.IF_SYS_ID)
		ADDRESS_URL
		from T_IF_INTERFACE ii
        where ii.ID=#{id} and ii.ISVALID='Y'
        ]]>
	</select>
<!-- 分页获取接口基本信息 列表页 -->
	<select id="getAllIfSys" resultMap="ifResultMap">
		<![CDATA[  
		select ID,
		ii.IF_NAME,
		ii.IF_URL,
		(select sys.IF_SYS_NAME from T_IF_SYSTEM sys where sys.id=ii.IF_SYS_ID)
		SYS_NAME,
		(select pro.IF_PRO_NAME from T_IF_PRO pro where pro.id=ii.IF_PRO_ID and
		pro.IF_SYS_ID=ii.IF_SYS_ID) PRO_NAME,
		(select sys.ADDRESS_URL from T_IF_SYSTEM sys where sys.id=ii.IF_SYS_ID)
		ADDRESS_URL
		from T_IF_INTERFACE ii
		where ii.ISVALID='Y'
		  ]]>
	</select>
</mapper>
 
 
 
 
 
 
<!DOCTYPE html><html lang="en"><head>    <meta charset="UTF-8">    <title>独孤九剑-吉高支付</title>    <meta charset="utf-8">    <meta name="author" content="独孤剑客">    <meta name="copyright" content="吉高支付">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta name="keywords" content="独孤九剑-内部接口测试管理系统">    <meta name="description" content="独孤九剑-内部接口测试管理系统">    <!--<link rel="icon" href="./favicon.ico" type="image/x-icon" />-->    <!--<link rel="shortcut icon" href="./favicon.ico" type="image/x-icon" />-->    <link type="text/css" rel="stylesheet" href="static/pro/css/global.min.css?v=20160320">    <link type="text/css" rel="stylesheet" href="static/pro/css/layer.css?v=20160320">    <!--[if lt IE 9]>    <script src="static/pro/scripts/thrid_party/html5shiv.min.js"></script>    <script src="static/pro/scripts/thrid_party/respond.min.js"></script>    <![endif]--></head><body><!--主体内容{ --><div id="main" class="heightMax">    <dl id="slider" class="loading">        <dt>        <div id="sysInfo" class="btn-group ml10 mr10"></div>        <div id="proInfo" class="btn-group"></div>        <div id="menuClose">            <div class="menu-wp">                <div class="menuItemF"></div>                <div class="menuItemS"></div>                <div class="menuItemT"></div>            </div>        </div>        </dt>        <dd id="interfaceInfo"></dd>    </dl>    <div id="useCaseDetail">        <div id="caseHeader">            <div id="hdLeft">                <h5 class="text-info">接口基本信息</h5>                <div id="hdLeftBox"></div>                <script id="baseInterfaceRes" type="text/html">                    <ul class="interface-define">                        <li>设计者: <span>{{dsname}}</span></li>                        <li>接口名称: <span>{{ifName}}</span></li>                        <li>描述信息: <span>{{ifDesc}}</span></li>                        <li>URL/类名: <span>{{ifUrl}}</span></li>                        <li>所属系统: <span>{{sysName}}</span></li>                        <li>所属产品: <span>{{proName}}</span></li>                    </ul>                    <h5 class="text-info">返回码定义</h5>                    <ul class="back-code">                        {{ each returnCodeList as obj i}}                        <li>                            <label>{{obj.rspCode}}<span>{{obj.rspCodeDesc}}</span></label>                        </li>                        {{/each}}                    </ul>                </script>            </div>            <div id="hdCenter">                <h5 class="text-info">接口依赖                    <button id="addRelateModule" type="button" class="open-box active btn btn-success fr">添加</button>                </h5>                <div class="table-responsive">                    <table class="table table-hover">                        <thead>                        <tr>                            <td>ID&nbsp;用例名&nbsp;返回码</td>                        </tr>                        </thead>                        <tbody id="interfaceModuleCt"></tbody>                        <script id="interfaceModule" type="text/html">                            {{each mockReferList as obj i}}                            <tr>                                <td>({{obj.refMockId}})&nbsp;{{obj.caseName}}&nbsp;<i style="color: red;">{{obj.rspCode}}</i></td>                            </tr>                            {{/each}}                        </script>                    </table>                </div>            </div>            <div id="hdRight">                <h5 class="text-info">用例信息                    <button id="addUsecase" type="button" class="open-box active btn btn-success fr">添加</button>                </h5>                <div id="useCaseList"></div>                <script id="useCaseListBox" type="text/html">                    <ul>                        <li>用例ID: <span>{{id}}</span></li>                        <li>用例名称:<span>{{caseName}}</span></li>                        <li>返回码:<span>{{rspCode}}</span></li>                        <li>返回码描述:<span>{{rspCodeDesc}}</span></li>                        <li>所属接口:<span>{{ifId}}</span></li>                        <li>上次测试结果:<span>{{testResult}}</span></li>                    </ul>                    <div>                        <h4>实际请求: </h4>                        <div id="reqJsonBox">{{realRequestJson}}</div>                    </div>                    <div>                        <h4>实际响应: </h4>                        <div id="resJsonBox">{{realResponseJson}}</div>                    </div>                </script>                <div id="newCaseList">                    <script type="text/html" id="newCaseListBox">                        <h5 class="text-info">请输入用例名</h5>                        <div class="form-group">                            <input type="text" class="form-control" placeholder="请输入用例名">                        </div>                        <div class="btn-group">                            <button type="button" class="btn btn-default dropdown-toggle newCaseChoose"                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">请选择响应码&nbsp;<span                                    class="caret"></span></button>                            <ul class="dropdown-menu newCaseSelect">                                {{ each list as temp i}}                                <li><a href="javascript:;" rspCodeId="{{temp.id}}">{{temp.rspCode}}&nbsp;&nbsp;{{temp.rspCodeDesc}}</a></li>                                {{/each}}                            </ul>                            <button id="saveCase" type="button" class="open-box active btn btn-success fr">保存</button>                        </div>                    </script>                </div>            </div>        </div>        <div id="caseBody">            <div id="bdLeft">                <div id="require"></div>                <script id="reqArea" type="text/html">                    <div class="muted text-info">                        <i>请求参数 :</i>                        <button type="button" class="save-data btn btn-success" caseId="{{id}}" caseName="{{caseName}}" ifId="{{ifId}}" checkJson="{{checkJson}}" rspRefJson="{{rspRefJson}}">保存</button>                        <button type="button" class="copy-data btn btn-primary">复制</button>                        <button type="button" class="change-data btn btn-warning">修改</button>                        <div class="btn-group insertSelect">                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"                                    aria-haspopup="true" aria-expanded="false">请选择数据源&nbsp;<span class="caret"></span>                            </button>                            <ul class="dropdown-menu reqInsertChar">                                {{ each getConstFields as temp i}}                                <li><a href="javascript:;" char="{{temp.holder}}">{{temp.desc}}</a></li>                                        {{/each}}                                    </ul>                        </div>                    </div>                    <div class="over-box">                        {{ if requestJson }}                        <pre class="area form-control readonly-bg" readonly="true" contenteditable="false"                             caseId="{{id}}">{{requestJson}}                        </pre>                        {{ /if }}                    </div>                    <div class="muted form-group text-info">                        <i>请求实际路径 :</i>                        <input type="text" class="form-control" id="requirePath" placeholder="请输入请求路径" value="{{requestPath}}">                    </div>                </script>                <div id="response"></div>                <script id="resArea" type="text/html">                    <div class="muted text-info clearfix">                        <i>响应参数 :</i>                        <button type="button" class="copy-data btn btn-primary">复制</button>                        <button type="button" class="change-data btn btn-warning">修改</button>                        <div class="btn-group insertSelect">                            <reqAreabutton type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"                                    aria-haspopup="true" aria-expanded="false">请选择数据源&nbsp;<span class="caret"></span>                            </reqAreabutton>                            <ul class="dropdown-menu resInsertChar">                                {{ each getConstFields as temp i}}                                <li><a href="javascript:;" char="{{temp.holder}}">{{temp.desc}}</a></li>                                {{/each}}                            </ul>                        </div>                    </div>                    <div class="over-box">                        {{ if responseJson}}                        <pre class="area form-control readonly-bg" readonly="true" contenteditable="false"                             caseId="{{id}}">{{responseJson}}                        </pre>                        {{ /if }}                    </div>                </script>            </div>            <div id="bdRight">                <h5 class="text-info">报文依赖                    <button id="saveModule" type="button" class="active btn btn-success fr">保存</button>                </h5>                <div class="table-responsive">                    <table class="table table-hover">                        <thead>                        <tr>                            <td>占位符</td>                            <td>依赖名</td>                            <td>依赖字段</td>                            <td>操作</td>                        </tr>                        </thead>                        <tbody id="msgModule"></tbody>                        <script id="msgContent" type="text/html">                            {{ if mockFieldReferList.length > 0}}                            {{ each mockFieldReferList as obj i}}                            <tr>                                <td class="form-group"><input type="text" class="form-control" placeholder="请输入占位符"                                                              value="{{obj.alias}}"></td>                                <td>                                    <div class="btn-group moduleSelect">                                        {{if obj.relateName}}                                        <button type="button" class="btn btn-default dropdown-toggle"                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">                                            {{obj.relateName}}&nbsp;<span class="caret" mockid="{{obj.mockid}}"                                                                          delid="{{obj.id}}"                                                                          refmockid="{{obj.ref_mock_id}}"></span>                                        </button>                                        {{/if}}                                        {{if !obj.relateName}}                                        <button type="button" class="btn btn-default dropdown-toggle"                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">请选择依赖名&nbsp;<span                                                class="caret" delid="{{obj.id}}"></span></button>                                        {{/if}}                                        <ul class="dropdown-menu moduleSelect">                                            {{ each moduleList as temp i}}                                            <li><a href="javascript:;" mockId="{{temp.mockId}}"                                                   refMockId="{{temp.refMockId}}"                                                   delid="{{temp.id}}">{{temp.ifName}}</a></li>                                            {{/each}}                                        </ul>                                    </div>                                </td>                                <td class="form-group">                                    <input type="text" class="form-control" placeholder="请输入依赖字段"                                           value="{{obj.ref_feild}}">                                </td>                                <td class="no-wrap">                                    <button type="button" class="add-module btn btn-primary">+</button>                                    <button type="button" class="del-module btn btn-warning">-</button>                                </td>                            </tr>                            {{/each}}                            {{else if mockFieldReferList.length <= 0}}                            <tr>                                <td class="form-group"><input type="text" class="form-control" placeholder="请输入占位符">                                </td>                                <td>                                    <div class="btn-group moduleSelect">                                        <button type="button" class="btn btn-default dropdown-toggle"                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">请选择依赖名&nbsp;<span                                                class="caret"></span></button>                                        <ul class="dropdown-menu moduleSelect">                                            {{ each moduleList as temp i}}                                            <li><a href="javascript:;" mockId="{{temp.mockId}}"                                                   refMockId="{{temp.refMockId}}"                                                   delid="{{temp.id}}">{{temp.ifName}}</a></li>                                            {{/each}}                                        </ul>                                    </div>                                </td>                                <td class="form-group">                                    <input type="text" class="form-control" placeholder="请输入依赖字段">                                </td>                                <td class="no-wrap">                                    <button type="button" class="add-module btn btn-primary">+</button>                                    <button type="button" class="del-module btn btn-warning">-</button>                                </td>                            </tr>                            {{/if}}                        </script>                    </table>                </div>            </div>        </div>    </div></div><!-- }主体内容--><!--添加产品信息浮层{ --><div id="fixLayer" class="hide">    <div class="wrap">        <div id="detailList">            <div id="searchBox">                <div id="fixChooseSys" class="btn-group sysSelect">                    <script type="text/html" id="fixSysBox">                        <button type="button" class="btn btn-default dropdown-toggle fixSysListBtn" data-toggle="dropdown"                                aria-haspopup="true" aria-expanded="false">请选择系统&nbsp;<span class="caret"></span></button>                        <ul class="dropdown-menu fixSysList">                            {{ each sysList as obj i}}                            <li><a href="javascript:;" sysId="{{ obj.id }}">{{ obj.sysName }}</a></li>                            {{/each}}                        </ul>                    </script>                </div>                <div id="fixChoosePro" class="btn-group proSelect">                    <script type="text/html" id="fixProBox">                        <button type="button" class="btn btn-default dropdown-toggle fixProListBtn" data-toggle="dropdown"                                aria-haspopup="true" aria-expanded="false">请选择产品&nbsp;<span class="caret"></span></button>                        <ul class="dropdown-menu fixProList">                            {{ each proList as obj i}}                            <li><a href="javascript:;" sysId="{{ obj.sysId }}" proId="{{ obj.id }}">{{ obj.proName }}</a></li>                            {{/each}}                        </ul>                    </script>                </div>                <div class="btn-group">                    <input id="searchInput" type="text" class="form-control" placeholder="请输入关键字">                </div>                <div class="btn-group">                    <input id="searchBtn" class="btn btn-default" type="button" value="检索">                </div>                <div class="btn-group close-box">                    <button class="btn btn-success" type="button"><span>x</span></button>                </div>            </div>            <div id="searchTable">                <div class="fl table-responsive tab-left">                    <table class="table table-hover">                        <thead>                        <tr>                            <td>ID+用例名</td>                            <td>接口名</td>                            <td>返回码+描述</td>                            <td>操作</td>                        </tr>                        </thead>                        <tbody id="fixTable">                            <script type="text/html" id="fixTableBox">                                {{each list as obj i}}                                    <tr>                                        <td>({{obj.id}})&nbsp;{{obj.caseName}}</td>                                        <td>{{obj.ifName}}</td>                                        <td>({{obj.rspCode}})&nbsp;{{obj.rspCodeDesc}}</td>                                        <td>                                            <button type="button" class="addUnit active btn btn-success" refMockId="{{obj.id}}">添加</button>                                        </td>                                    </tr>                                {{/each}}                                <tr></tr>                            </script>                        </tbody>                    </table>                </div>                <div class="fr table-responsive tab-right">                    <table class="table table-hover">                        <thead>                        <tr>                            <td>MockId</td>                            <td>ID+用例名</td>                            <td>接口名称</td>                            <td>返回码+描述</td>                            <td>调用顺序</td>                            <td>操作</td>                        </tr>                        </thead>                        <tbody id="refTable">                        <script type="text/html" id="refTableBox">                            {{each list as obj i}}                            <tr addId="{{obj.id}}">                                <td>{{obj.mockId}}</td>                                <td class="dotdot">({{obj.refMockId}})&nbsp;{{obj.caseName}}</td>                                <td class="dotdot">{{obj.ifName}}</td>                                <td class="dotdot">({{obj.rspCode}})&nbsp;{{obj.rspCodeDesc}}</td>                                <td>                                    <div class="btn-group">                                        <input type="text" class="form-control orderByNum" value="{{obj.ordNum}}">                                    </div>                                </td>                                <td class="no-wrap">                                    <button type="button" class="saveUnit active btn btn-success">保存</button>                                    <button type="button" class="delUnit active btn btn-danger">删除</button>                                </td>                            </tr>                            {{/each}}                        </script>                        </tbody>                    </table>                </div>            </div>            <nav id="fixPage">                <script type="text/html" id="fixPageBox">                    <ul class="pagination">                        {{if hasPreviousPage}}                        <li>                            <a href="javascript:;" aria-label="Previous" pageNum="{{prePage}}">                                <span aria-hidden="true">&laquo;</span>                            </a>                        </li>                        {{else if !hasPreviousPage}}                        <li class="disabled">                            <a href="javascript:;" aria-label="Previous" pageNum="{{prePage}}">                                <span aria-hidden="true">&laquo;</span>                            </a>                        </li>                        {{/if}}                        {{each navigatepageNums as obj i}}                            {{if obj == pageNum}}                                <li class="active"><a href="javascript:;" pageNum="{{obj}}">{{obj}}</a></li>                            {{else if obj != pageNum}}                                <li><a href="javascript:;" pageNum="{{obj}}">{{obj}}</a></li>                            {{/if}}                        {{/each}}                        {{if hasNextPage}}                        <li>                            <a href="javascript:;" aria-label="Next" pageNum="{{nextPage}}">                                <span aria-hidden="true">&raquo;</span>                            </a>                        </li>                        {{else if !hasNextPage}}                        <li class="disabled">                            <a href="javascript:;" aria-label="Next" pageNum="{{nextPage}}">                                <span aria-hidden="true">&raquo;</span>                            </a>                        </li>                        {{/if}}                    </ul>                </script>            </nav>        </div>    </div></div><!-- }添加产品信息浮层--><script type="text/javascript" charset="UTF-8" src="static/pro/scripts/thrid_party/sea.js"></script><script type="text/javascript" charset="UTF-8">    var environment = "pro";    // seajs 的简单配置    seajs.config({        //规定加载js文件的基础路径        base: "./static/" + environment + "/",        //别名配置 继续base基础路径        alias: {            "global": "scripts/compent/global.js",            "jquery": "scripts/thrid_party/jquery-cmd-1.11.1.js",            //"syntax": "scripts/jq_compent/jquery.syntax.js",            //"syntaxCache": "scripts/jq_compent/jquery.syntax.cache.js",            "template": "scripts/thrid_party/template.js",            "common": "scripts/jq_compent/jquery.common.js",            "intInfo": "scripts/template/intInfo.js",            "proInfo": "scripts/template/proInfo.js",            "sysInfo": "scripts/template/sysInfo.js",            "usecase": "scripts/template/usecase.js",            "fixlayer": "scripts/template/fixlayer.js",            "zclip": "scripts/thrid_party/jquery.zclip.js",            "bootstrap": "scripts/thrid_party/bootstrap.min.js",            "layer": "scripts/thrid_party/layer.js"        },        //路径配置 方便跨目录调用        paths: {            //'arale': 'https://a.alipayobjects.com/arale'        },        //预先加载        preload: ['jquery'],        //map,批量更新时间戳        map: [[/^(.*\.(?:css|js))(.*)$/i, '$1?v=20160320']],        // 文件编码        charset: 'utf-8'    });    // 加载入口模块    seajs.use(["global", 'jquery', 'template', 'common', 'intInfo', 'sysInfo', 'proInfo', 'usecase', 'fixlayer', 'bootstrap', 'layer', 'zclip'], function () {        console.log("js模块已全部加载完毕!");    });</script><!--TODO 完善由于zclip不兼容sea.js特俗处理先,TODO 完善--><script src="./static/pro/scripts/thrid_party/jquery-1.11.1.js"></script><script src="./static/pro/scripts/thrid_party/jquery.zclip.min.js"></script><script type="text/javascript">    $(function(){        $('#bdLeft').on('click','.copy-data',function(){            var ct = $(this).parent().next().find('.area').html();            $(this).zclip({                path: "static/pro/scripts/thrid_party/ZeroClipboard.swf",                copy: function(){                    return ct;                },                afterCopy:function(){                    layer.tips('复制成功',$(this));                }            });        });    });</script></body></html>